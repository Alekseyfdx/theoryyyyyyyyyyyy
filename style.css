/* ===== THEME ===== */
:root {
--bg1: #0f172a;
--bg2: #1e293b;
--text: #eef2ff;
--muted: #cbd5e1;
--primary: #3b82f6;
--primary-600: #2563eb;
--accent: #10b981;
--accent-600: #059669;
--outline: #334155;
--card-bg: rgba(255, 255, 255, 0.08);
--card-border: rgba(255, 255, 255, 0.18);
--shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
--radius: 16px;
--accent-r: 16; --accent-g: 185; --accent-b: 129;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
margin: 0; color: var(--text);
font-family: 'Rubik', system-ui, -apple-system, 'Segoe UI', Arial, sans-serif;
background:
radial-gradient(1200px 800px at 10% 0%, rgba(110, 36, 210, 0.35), transparent 60%),
radial-gradient(1000px 800px at 100% 100%, rgba(14, 165, 233, 0.35), transparent 60%),
linear-gradient(180deg, var(--bg1), var(--bg2));
line-height: 1.6; direction: rtl; text-align: right;
}
.container { width: min(1080px, 92%); margin-inline: auto; }

/* ===== ACCESSIBILITY ===== */
.sr-only { position: absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

/* ===== HEADER ===== */
.app-header { position: sticky; top:0; z-index:10; backdrop-filter: saturate(140%) blur(10px);
background: linear-gradient(to bottom, rgba(15,23,42,.85), rgba(15,23,42,.6)); border-bottom:1px solid var(--outline); }
.header-content { display:flex; align-items:center; justify-content:space-between; padding:14px 0; }
.brand { display:flex; gap:10px; align-items:center; }
.brand-logo { font-size:1.25rem; }
.brand-text { font-weight:700; letter-spacing:.3px; }
.counter-section { display:flex; flex-direction:column; align-items:flex-end; gap:8px; }
.counter { color: var(--muted); font-size:.95rem; }
.page-nav { display:flex; gap:6px; align-items:center; }
.page-input { width:70px; background: rgba(255,255,255,.08); color: var(--text);
border:1px solid var(--outline); border-radius:8px; padding:6px 8px; font-size:.9rem; text-align:center; }
.page-input::placeholder { color:#94a3b8; font-size:.85rem; }

/* ===== MAIN ===== */
.app-main { padding:24px 0 36px; display:flex; flex-direction:column; gap:16px; }

/* Search */
.search { display:flex; gap:10px; }
.search input { flex:1; background: rgba(255,255,255,.06); color: var(--text);
border:1px solid var(--outline); border-radius:12px; padding:12px 14px; }
.search input::placeholder { color:#94a3b8; }

/* Buttons */
.btn { border:0; border-radius:12px; padding:12px 18px; cursor:pointer; font-weight:700; transition: transform .08s ease, box-shadow .2s ease, background .2s ease, filter .2s ease; }
.btn:active { transform: translateY(1px); }
.btn-primary { background: linear-gradient(135deg, var(--primary), var(--primary-600)); color:#fff; box-shadow:0 8px 20px rgba(37,99,235,.35); }
.btn-primary:hover { filter: brightness(1.1); }
.btn-outline { background: transparent; color:#fff; border:1px solid var(--outline); }
.btn-outline:hover { background: rgba(255,255,255,.05); }
.btn-small { padding:6px 12px; font-size:.9rem; }

/* Card */
.card { border-radius: var(--radius); padding:22px 18px; box-shadow: var(--shadow); display:flex; flex-direction:column; }
.chat-loading { padding:10px 12px; color:#a3aed0; }

/* Explanation */
.explanation { margin-top:18px; padding:14px 12px 10px; border-radius:10px; background:rgba(56,52,105,.33); color:#bee0ff; display:block; border:1px solid var(--primary-600); transition:.2s; }
.explanation[aria-hidden="true"] { display:none; }
.explanation-text { font-size:1.04em; margin-bottom:7px; line-height:1.8; }
.explanation-source { color:var(--muted); font-size:.93em; margin-top:2px; }
.explanation-btn { margin:0 0 0 0; background:linear-gradient(120deg,#059669,#3b82f6); color:#fff; border:none; border-radius:9px; padding:8px 16px; font-weight:500; box-shadow:0 2px 10px rgba(16,185,129,.10); cursor:pointer; transition:.17s; }
.explanation-btn:hover { filter:brightness(1.08); }

/* Progress Bar */
.progress-wrap { height: 8px; width: 100%; background:rgba(255,255,255,.06); border-radius:9px; margin:12px 0 0; }
.progress { background:linear-gradient(90deg, var(--accent), var(--primary)); height:100%; border-radius:9px; width:0; transition:width .2s cubic-bezier(.62,1.52,.37,.95); }

/* Nav Row */
.nav-row { display:flex; justify-content:space-between; align-items:center; gap:10px; margin:14px 0 0; }

/* Responsive */
@media (max-width:700px) {
  .container { width:97%; }
  .header-content, .app-main { padding:8px 0; }
  .card { padding:13px 8px; }
  .brand-text { font-size:1.09em; }
  .page-input { width:48px; font-size:.88em; }
}
