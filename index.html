<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>✈️ תיאוריה לטייס — תרגול שאלות</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <header class="app-header">
    <div class="header-content">
      <div class="logo">✈️ תיאוריה לטייס</div>
      <span id="questionCounter"></span>
    </div>
  </header>

  <main class="app-container">
    <!-- Loading indicator -->
    <div id="loading" style="display: none; justify-content: center; padding: 2rem;">
      <div style="font-size: 1.5rem;">טוען שאלות...</div>
    </div>

    <div id="appContent">
      <!-- Page navigation -->
      <div class="controls-bar">
        <input id="pageInput" type="number" min="1" style="width: 60px; padding: 0.5rem;" placeholder="1">
        <button id="goToBtn" class="nav-btn">עבור לשאלה</button>
      </div>

      <!-- Search -->
      <div class="controls-bar">
        <input id="searchInput" class="search-input" type="text" placeholder="חפש/י בשאלה או בתשובה...">
        <button id="searchBtn" class="search-btn">חפש</button>
      </div>

      <!-- Question card -->
      <section class="question-card" aria-live="polite">
        <div id="questionText" class="question-text"></div>
        <button id="speakQuestionBtn" class="toggle-answer-btn" title="הקרא שאלה">🔊</button>
        
        <div id="answerCard" class="answer-card">
          <div id="answerText"></div>
        </div>
        <button id="speakAnswerBtn" class="toggle-answer-btn" title="הקרא תשובה">🔊</button>
        
        <button id="explanationBtn" class="toggle-answer-btn">הסבר</button>
        
        <div id="explanation" aria-hidden="true" style="margin-top: 1rem; padding: 1rem; background: #f0f9ff; border-radius: 8px;">
          <div id="explanationText"></div>
        </div>
      </section>

      <!-- Navigation -->
      <div class="navigation-buttons">
        <button id="prevBtn" class="nav-btn">קודם</button>
        <button id="nextBtn" class="nav-btn">שאלה הבאה</button>
      </div>

      <!-- Progress bar -->
      <div class="progress-bar-container" role="progressbar" aria-valuemin="0" aria-valuemax="100">
        <div id="progressBar" class="progress-bar"></div>
      </div>
    </div>
  </main>

  <!-- Chat Fab Button -->
  <button id="chatFab" class="chat-fab" aria-label="פתח צ'אט">💬</button>
  
  <!-- Chat Window -->
  <div id="chatWindow" class="chat-window" aria-hidden="true">
    <div class="chat-header">
      <h3>בוט עזר</h3>
      <button id="chatCloseBtn" class="chat-close" aria-label="סגור">✕</button>
    </div>
    <div id="chatMessages" class="chat-messages">
      <div class="msg bot">
        <div class="avatar">🤖</div>
        <div class="bubble">שלום! אני כאן כדי לעזור לך עם שאלות התיאוריה. שאל אותי כל דבר.</div>
      </div>
    </div>
    <div class="chat-input-row">
      <input id="chatInput" type="text" placeholder="הקלד/י שאלה...">
      <button id="chatSendBtn">שלח</button>
    </div>
  </div>

  <footer class="app-footer">
    <p>&copy; 2025 לימוד עצמי — RTL • JSON בלבד</p>
  </footer>

  <script src="script.js"></script>
</body>
</html>
